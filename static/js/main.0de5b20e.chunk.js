(this["webpackJsonpreact_redux-list-of-todos"]=this["webpackJsonpreact_redux-list-of-todos"]||[]).push([[0],{26:function(e,t,n){e.exports=n(40)},36:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){},40:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(10),c=n.n(o),s=n(5),u=n(24),i=n(3),l=n(7),m=n(22),d=function(e){return{type:"HANDLE_SUCCESS",todos:e}},b=function(e){return{type:"HANDLE_SORT",sortType:e}},p={isLoading:!1,hasError:!1,todos:[],sortType:""},f=Object(l.createStore)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"START_LOADING":return Object(i.a)(Object(i.a)({},e),{},{isLoading:!0,hasError:!1});case"HANDLE_SUCCESS":return Object(i.a)(Object(i.a)({},e),{},{isLoading:!1,hasError:!1,todos:t.todos});case"HANDLE_ERRROR":return Object(i.a)(Object(i.a)({},e),{},{isLoading:!1,hasError:!0});case"HANDLE_REMOVE":return Object(i.a)(Object(i.a)({},e),{},{todos:e.todos.filter((function(e){return e.id!==t.taskId}))});case"HANDLE_SORT":return Object(i.a)(Object(i.a)({},e),{},{sortType:t.sortType});default:return e}}),Object(m.composeWithDevTools)()),E=n(13),O=n(16),h=n.n(O),j=n(25),y=n(23),N=(n(36),["https://mate-academy.github.io/react_dynamic-list-of-todos/api/users.json","https://mate-academy.github.io/react_dynamic-list-of-todos/api/todos.json"]),_=function(e){var t=e.data;return r.a.createElement("h4",{className:"todo-card__user"},t.name)},v=(n(37),function(e){var t=e.task,n=Object(s.b)();return r.a.createElement("div",{className:"todo-card"},r.a.createElement("button",{type:"button",className:"todo-card__remove-btn",onClick:function(){return n({type:"HANDLE_REMOVE",taskId:t.id})}},"remove"),r.a.createElement("h2",{className:"todo-card__task"},t.title),t.completed?r.a.createElement("h3",{className:"todo-card--finished"},"Completed"):r.a.createElement("h3",{className:"todo-card--unfinished"},"Not Completed"),r.a.createElement(_,{data:t.user}))}),L=(n(38),function(e){var t=e.todos;return r.a.createElement(r.a.Fragment,null,t.map((function(e){return r.a.createElement(v,{task:e,key:e.id})})))}),k=function(){var e=Object(s.c)((function(e){return e.todos})),t=Object(s.c)((function(e){return e.hasError})),n=Object(s.c)((function(e){return e.isLoading})),o=Object(s.c)((function(e){return e.sortType})),c=Object(s.b)(),u=function(){var e=Object(y.a)(h.a.mark((function e(){var t,n,a,r,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c({type:"START_LOADING"}),e.next=4,Promise.all(N.map((function(e){return fetch(e)}))).then((function(e){return Promise.all(e.map((function(e){return e.json()})))}));case 4:t=e.sent,n=Object(j.a)(t,2),a=n[0],r=n[1],o=r.map((function(e){return Object(i.a)(Object(i.a)({},e),{},{user:a.find((function(t){return t.id===e.userId}))})})),c(d(o)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),c({type:"HANDLE_ERRROR"});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),l=Object(a.useCallback)((function(t){switch(t){case"title":return Object(E.a)(e).sort((function(e,t){return e.title.localeCompare(t.title)}));case"completness":return Object(E.a)(e).sort((function(e,t){return Number(e.completed)-Number(t.completed)}));case"name":return Object(E.a)(e).sort((function(e,t){return e.user.name.localeCompare(t.user.name)}));default:return e}}),[e]),m=Object(a.useMemo)((function(){return l(o)}),[o,l]);return r.a.createElement("div",{className:"App"},t&&r.a.createElement("h1",null,"Some errors appeared. Please, try again"),0===e.length?r.a.createElement("button",{className:"button",type:"button",onClick:u,disabled:n},n?"Loading...":"Load"):r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{type:"button",className:"button",onClick:function(){return c(b("title"))}},"Sort By Title"),r.a.createElement("button",{type:"button",className:"button",onClick:function(){return c(b("completness"))}},"Sort By Status"),r.a.createElement("button",{type:"button",className:"button",onClick:function(){return c(b("name"))}},"Sort By Name"),r.a.createElement("div",{className:"container"},r.a.createElement(L,{todos:m}))))},S=function(){return r.a.createElement(s.a,{store:f},r.a.createElement(u.a,null,r.a.createElement(k,null)))};c.a.render(r.a.createElement(S,null),document.getElementById("root"))}},[[26,1,2]]]);
//# sourceMappingURL=main.0de5b20e.chunk.js.map